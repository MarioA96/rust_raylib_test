use raylib::{ffi::{Vector2,Vector3}, prelude::*};
use std::f32::consts;


const BACKGROUND: &str = "101010";
// const FOREGROUND: &str = "50FF50";
const SCREEN_WIDTH: i32 = 800;
const SCREEN_HEIGHT: i32 = 800;

// #[derive(Copy, Clone)]
// struct VectorStruct2d {
//     x: f32,
//     y: f32,
// }

// #[derive(Copy, Clone)]
// struct VectorStruct2dMapped {
//     x: i32,
//     y: i32,
// }

// #[derive(Copy, Clone)]
// struct VectorStruct3d {
//     x: f32,
//     y: f32,
//     z: f32,
// }

// const VS3:[Vector3;8] = [
//    Vector3{x: 0.25, y: 0.25, z: 0.25},
//    Vector3{x: -0.25, y: 0.25, z: 0.25},
//    Vector3{x: -0.25, y: -0.25, z: 0.25},
//    Vector3{x: 0.25, y: -0.25, z: 0.25},

//    Vector3{x: 0.25, y: 0.25, z: -0.25},
//    Vector3{x: -0.25, y: 0.25, z: -0.25},
//    Vector3{x: -0.25, y: -0.25, z: -0.25},
//    Vector3{x: 0.25, y: -0.25, z: -0.25},
// ];

const VS3:[Vector3;324] = [
    Vector3{x: -0.086914, y: 0.277547, z: 0.400041},
    Vector3{x: -0.069555, y: 0.329698, z: 0.376422},
    Vector3{x: -0.125429, y: 0.305056, z: 0.175577},
    Vector3{x: -0.087431, y: 0.359323, z: 0.182228},
    Vector3{x: 0.086914, y: 0.277547, z: 0.400041},
    Vector3{x: 0.069555, y: 0.329698, z: 0.376422},
    Vector3{x: 0.125429, y: 0.305056, z: 0.175577},
    Vector3{x: 0.087431, y: 0.359323, z: 0.182228},
    Vector3{x: -0.162461, y: 0.331177, z: 0.163170},
    Vector3{x: -0.120032, y: 0.285356, z: 0.287080},
    Vector3{x: 0.000000, y: 0.316913, z: 0.150254},
    Vector3{x: 0.000000, y: 0.431152, z: 0.159026},
    Vector3{x: 0.162461, y: 0.331177, z: 0.163170},
    Vector3{x: 0.120032, y: 0.285356, z: 0.287080},
    Vector3{x: 0.038632, y: 0.351515, z: 0.295188},
    Vector3{x: 0.112575, y: 0.300152, z: 0.416327},
    Vector3{x: 0.000000, y: 0.283376, z: 0.423906},
    Vector3{x: 0.000000, y: 0.339429, z: 0.443461},
    Vector3{x: -0.038632, y: 0.351515, z: 0.295188},
    Vector3{x: 0.000000, y: 0.333645, z: 0.122512},
    Vector3{x: 0.151316, y: 0.313187, z: 0.289445},
    Vector3{x: 0.000000, y: 0.307518, z: 0.456379},
    Vector3{x: 0.000000, y: 0.299713, z: 0.285755},
    Vector3{x: 0.000000, y: 0.363275, z: 0.294437},
    Vector3{x: -0.112575, y: 0.300152, z: 0.416327},
    Vector3{x: -0.151316, y: 0.313187, z: 0.289445},
    Vector3{x: 0.118885, y: 0.399961, z: 0.192279},
    Vector3{x: 0.100036, y: 0.433856, z: 0.198983},
    Vector3{x: 0.102966, y: 0.396398, z: 0.165539},
    Vector3{x: 0.084118, y: 0.430293, z: 0.172243},
    Vector3{x: 0.176608, y: 0.439909, z: 0.152593},
    Vector3{x: 0.157760, y: 0.473804, z: 0.159297},
    Vector3{x: 0.160690, y: 0.436346, z: 0.125853},
    Vector3{x: 0.141841, y: 0.470241, z: 0.132557},
    Vector3{x: 0.106666, y: 0.390088, z: 0.182523},
    Vector3{x: 0.104880, y: 0.412922, z: 0.202910},
    Vector3{x: 0.083687, y: 0.431411, z: 0.190696},
    Vector3{x: 0.085473, y: 0.408578, z: 0.170310},
    Vector3{x: 0.132149, y: 0.412268, z: 0.142032},
    Vector3{x: 0.109170, y: 0.453590, z: 0.150205},
    Vector3{x: 0.155846, y: 0.457280, z: 0.121927},
    Vector3{x: 0.177039, y: 0.438791, z: 0.134140},
    Vector3{x: 0.154060, y: 0.480114, z: 0.142313},
    Vector3{x: 0.175253, y: 0.461624, z: 0.154527},
    Vector3{x: 0.151556, y: 0.416612, z: 0.174632},
    Vector3{x: 0.128577, y: 0.457934, z: 0.182805},
    Vector3{x: 0.081904, y: 0.401564, z: 0.195735},
    Vector3{x: 0.116999, y: 0.432110, z: 0.139970},
    Vector3{x: 0.178822, y: 0.468638, z: 0.129101},
    Vector3{x: 0.143727, y: 0.438092, z: 0.184867},
    Vector3{x: 0.146186, y: 0.406646, z: 0.156790},
    Vector3{x: 0.114539, y: 0.463556, z: 0.168046},
    Vector3{x: -0.118885, y: 0.399961, z: 0.192279},
    Vector3{x: -0.100036, y: 0.433856, z: 0.198983},
    Vector3{x: -0.102966, y: 0.396398, z: 0.165539},
    Vector3{x: -0.084118, y: 0.430293, z: 0.172243},
    Vector3{x: -0.176608, y: 0.439909, z: 0.152593},
    Vector3{x: -0.157760, y: 0.473804, z: 0.159297},
    Vector3{x: -0.160690, y: 0.436346, z: 0.125853},
    Vector3{x: -0.141841, y: 0.470241, z: 0.132557},
    Vector3{x: -0.106666, y: 0.390088, z: 0.182523},
    Vector3{x: -0.104880, y: 0.412922, z: 0.202910},
    Vector3{x: -0.083687, y: 0.431411, z: 0.190696},
    Vector3{x: -0.085473, y: 0.408578, z: 0.170310},
    Vector3{x: -0.132149, y: 0.412268, z: 0.142032},
    Vector3{x: -0.109170, y: 0.453590, z: 0.150205},
    Vector3{x: -0.155846, y: 0.457280, z: 0.121927},
    Vector3{x: -0.177039, y: 0.438791, z: 0.134140},
    Vector3{x: -0.154060, y: 0.480114, z: 0.142313},
    Vector3{x: -0.175253, y: 0.461624, z: 0.154527},
    Vector3{x: -0.151556, y: 0.416612, z: 0.174632},
    Vector3{x: -0.128577, y: 0.457934, z: 0.182805},
    Vector3{x: -0.081904, y: 0.401564, z: 0.195735},
    Vector3{x: -0.116999, y: 0.432110, z: 0.139970},
    Vector3{x: -0.178822, y: 0.468638, z: 0.129102},
    Vector3{x: -0.143727, y: 0.438092, z: 0.184867},
    Vector3{x: -0.146187, y: 0.406646, z: 0.156790},
    Vector3{x: -0.114539, y: 0.463556, z: 0.168046},
    Vector3{x: 0.116485, y: 0.600505, z: 0.141727},
    Vector3{x: 0.261417, y: -0.299902, z: 0.348366},
    Vector3{x: -0.116485, y: 0.600505, z: 0.141727},
    Vector3{x: -0.261417, y: -0.299902, z: 0.348366},
    Vector3{x: 0.112046, y: 0.657167, z: -0.052576},
    Vector3{x: 0.239249, y: -0.285613, z: -0.195621},
    Vector3{x: -0.112046, y: 0.657167, z: -0.052576},
    Vector3{x: -0.239249, y: -0.285613, z: -0.195621},
    Vector3{x: 0.182365, y: -0.413886, z: -0.130600},
    Vector3{x: -0.182365, y: -0.413886, z: -0.130600},
    Vector3{x: 0.185370, y: -0.411127, z: 0.285766},
    Vector3{x: -0.185370, y: -0.411127, z: 0.285766},
    Vector3{x: -0.000000, y: -0.280698, z: -0.288600},
    Vector3{x: 0.000000, y: 0.685597, z: -0.059119},
    Vector3{x: -0.000000, y: -0.302354, z: 0.418056},
    Vector3{x: 0.000000, y: -0.426735, z: -0.175525},
    Vector3{x: -0.000000, y: 0.616801, z: 0.172179},
    Vector3{x: 0.346767, y: -0.313945, z: 0.082211},
    Vector3{x: 0.134460, y: 0.652623, z: 0.053817},
    Vector3{x: 0.226383, y: -0.434593, z: 0.081386},
    Vector3{x: 0.000000, y: -0.406050, z: 0.064396},
    Vector3{x: -0.000000, y: 0.702832, z: 0.076074},
    Vector3{x: 0.148239, y: 0.499868, z: -0.129503},
    Vector3{x: 0.167399, y: 0.217376, z: -0.179106},
    Vector3{x: 0.000000, y: 0.510360, z: -0.177507},
    Vector3{x: 0.000000, y: 0.222228, z: -0.243510},
    Vector3{x: 0.000000, y: -0.421023, z: 0.303086},
    Vector3{x: -0.346767, y: -0.313945, z: 0.082211},
    Vector3{x: -0.134460, y: 0.652623, z: 0.053817},
    Vector3{x: 0.253877, y: 0.206739, z: -0.012612},
    Vector3{x: 0.214625, y: 0.479434, z: 0.003080},
    Vector3{x: 0.158129, y: 0.450290, z: 0.133907},
    Vector3{x: 0.188613, y: 0.188153, z: 0.148241},
    Vector3{x: 0.000000, y: 0.444652, z: 0.202967},
    Vector3{x: -0.000000, y: 0.189861, z: 0.237317},
    Vector3{x: -0.226383, y: -0.434593, z: 0.081386},
    Vector3{x: 0.228074, y: -0.059677, z: -0.205451},
    Vector3{x: 0.000000, y: -0.055601, z: -0.288645},
    Vector3{x: -0.000000, y: -0.077669, z: 0.380767},
    Vector3{x: -0.148239, y: 0.499868, z: -0.129503},
    Vector3{x: -0.167399, y: 0.217376, z: -0.179106},
    Vector3{x: 0.336477, y: -0.071376, z: 0.037431},
    Vector3{x: 0.258730, y: -0.081163, z: 0.294948},
    Vector3{x: -0.253877, y: 0.206739, z: -0.012612},
    Vector3{x: -0.214625, y: 0.479434, z: 0.003080},
    Vector3{x: -0.158129, y: 0.450290, z: 0.133907},
    Vector3{x: -0.188613, y: 0.188153, z: 0.148241},
    Vector3{x: -0.228074, y: -0.059677, z: -0.205451},
    Vector3{x: -0.336477, y: -0.071376, z: 0.037431},
    Vector3{x: -0.258730, y: -0.081163, z: 0.294948},
    Vector3{x: 0.066239, y: 0.677571, z: -0.057217},
    Vector3{x: 0.213490, y: -0.368374, z: -0.165516},
    Vector3{x: 0.128870, y: -0.280276, z: -0.267035},
    Vector3{x: 0.106735, y: -0.422750, z: -0.160566},
    Vector3{x: 0.000000, y: -0.373623, z: -0.249661},
    Vector3{x: 0.314673, y: -0.301707, z: -0.071136},
    Vector3{x: -0.314673, y: -0.301707, z: -0.071136},
    Vector3{x: 0.210922, y: -0.428610, z: -0.043983},
    Vector3{x: 0.000000, y: -0.423055, z: -0.065328},
    Vector3{x: -0.244201, y: -0.180778, z: -0.207684},
    Vector3{x: 0.126667, y: 0.663471, z: -0.006633},
    Vector3{x: -0.195294, y: 0.491192, z: -0.068821},
    Vector3{x: 0.000000, y: 0.711143, z: 0.010063},
    Vector3{x: -0.213490, y: -0.368374, z: -0.165516},
    Vector3{x: 0.071185, y: 0.691313, z: 0.070402},
    Vector3{x: -0.155241, y: 0.365055, z: -0.158770},
    Vector3{x: 0.303068, y: -0.396966, z: 0.087021},
    Vector3{x: -0.132112, y: 0.602600, z: -0.089009},
    Vector3{x: 0.120944, y: -0.422690, z: 0.070511},
    Vector3{x: 0.183037, y: 0.581878, z: 0.028539},
    Vector3{x: 0.132112, y: 0.602600, z: -0.089009},
    Vector3{x: 0.155241, y: 0.365055, z: -0.158770},
    Vector3{x: 0.244201, y: -0.180778, z: -0.207684},
    Vector3{x: 0.000000, y: 0.617590, z: -0.123992},
    Vector3{x: 0.000000, y: 0.372508, z: -0.215321},
    Vector3{x: 0.000000, y: -0.174030, z: -0.298421},
    Vector3{x: 0.103174, y: 0.187991, z: 0.210662},
    Vector3{x: 0.000000, y: -0.198444, z: 0.419635},
    Vector3{x: -0.294693, y: 0.065372, z: 0.007647},
    Vector3{x: -0.129550, y: 0.627979, z: 0.107967},
    Vector3{x: 0.294693, y: 0.065372, z: 0.007647},
    Vector3{x: 0.232020, y: 0.349539, z: -0.013046},
    Vector3{x: 0.000000, y: 0.323920, z: 0.208490},
    Vector3{x: 0.088589, y: 0.220688, z: -0.227407},
    Vector3{x: 0.079730, y: 0.507125, z: -0.165927},
    Vector3{x: -0.232020, y: 0.349539, z: -0.013046},
    Vector3{x: 0.195294, y: 0.491192, z: -0.068821},
    Vector3{x: 0.226314, y: 0.213436, z: -0.101955},
    Vector3{x: 0.170260, y: 0.326295, z: 0.126748},
    Vector3{x: -0.000000, y: 0.542220, z: 0.194351},
    Vector3{x: 0.138605, y: 0.545492, z: 0.141718},
    Vector3{x: -0.210922, y: -0.428610, z: -0.043983},
    Vector3{x: 0.224239, y: -0.372873, z: 0.324377},
    Vector3{x: -0.000000, y: -0.381400, z: 0.379001},
    Vector3{x: 0.107381, y: -0.417734, z: 0.299738},
    Vector3{x: 0.069123, y: 0.612108, z: 0.162110},
    Vector3{x: 0.144110, y: -0.299803, z: 0.404857},
    Vector3{x: 0.273464, y: -0.200231, z: 0.340419},
    Vector3{x: 0.086530, y: 0.445098, z: 0.182669},
    Vector3{x: -0.170260, y: 0.326295, z: 0.126748},
    Vector3{x: 0.000000, y: 0.670466, z: 0.131824},
    Vector3{x: -0.226314, y: 0.213436, z: -0.101955},
    Vector3{x: 0.129550, y: 0.627979, z: 0.107967},
    Vector3{x: -0.126667, y: 0.663471, z: -0.006633},
    Vector3{x: 0.240899, y: 0.196199, z: 0.072126},
    Vector3{x: 0.202094, y: 0.463683, z: 0.072293},
    Vector3{x: -0.224239, y: -0.372873, z: 0.324377},
    Vector3{x: 0.196495, y: 0.073973, z: -0.194947},
    Vector3{x: 0.000000, y: 0.077321, z: -0.268617},
    Vector3{x: -0.000000, y: 0.053716, z: 0.306623},
    Vector3{x: 0.356649, y: -0.201172, z: 0.064475},
    Vector3{x: 0.223708, y: 0.050083, z: 0.216822},
    Vector3{x: 0.302413, y: -0.064867, z: -0.098045},
    Vector3{x: -0.138605, y: 0.545492, z: 0.141718},
    Vector3{x: 0.143359, y: -0.079578, z: 0.361124},
    Vector3{x: -0.273464, y: -0.200231, z: 0.340419},
    Vector3{x: 0.122283, y: -0.056588, z: -0.268697},
    Vector3{x: 0.323489, y: -0.077819, z: 0.178606},
    Vector3{x: -0.183037, y: 0.581878, z: 0.028539},
    Vector3{x: 0.211567, y: -0.425514, z: 0.204949},
    Vector3{x: 0.329913, y: -0.309199, z: 0.232998},
    Vector3{x: -0.303068, y: -0.396966, z: 0.087021},
    Vector3{x: 0.000000, y: -0.416129, z: 0.193289},
    Vector3{x: -0.240899, y: 0.196199, z: 0.072126},
    Vector3{x: -0.202094, y: 0.463683, z: 0.072293},
    Vector3{x: -0.196495, y: 0.073973, z: -0.194947},
    Vector3{x: -0.356649, y: -0.201172, z: 0.064475},
    Vector3{x: -0.223708, y: 0.050083, z: 0.216822},
    Vector3{x: -0.302413, y: -0.064867, z: -0.098045},
    Vector3{x: -0.323489, y: -0.077819, z: 0.178606},
    Vector3{x: -0.211567, y: -0.425514, z: 0.204949},
    Vector3{x: -0.329913, y: -0.309199, z: 0.232998},
    Vector3{x: -0.120944, y: -0.422690, z: 0.070511},
    Vector3{x: -0.128870, y: -0.280276, z: -0.267035},
    Vector3{x: -0.106735, y: -0.422750, z: -0.160566},
    Vector3{x: -0.071185, y: 0.691312, z: 0.070402},
    Vector3{x: -0.103174, y: 0.187991, z: 0.210662},
    Vector3{x: -0.144110, y: -0.299803, z: 0.404857},
    Vector3{x: -0.066239, y: 0.677571, z: -0.057217},
    Vector3{x: -0.079730, y: 0.507125, z: -0.165927},
    Vector3{x: -0.088589, y: 0.220688, z: -0.227407},
    Vector3{x: -0.069123, y: 0.612108, z: 0.162110},
    Vector3{x: -0.107381, y: -0.417734, z: 0.299738},
    Vector3{x: -0.086530, y: 0.445098, z: 0.182669},
    Vector3{x: -0.143359, y: -0.079578, z: 0.361124},
    Vector3{x: -0.122283, y: -0.056588, z: -0.268697},
    Vector3{x: -0.116187, y: -0.369086, z: -0.229604},
    Vector3{x: -0.072661, y: 0.612795, z: -0.116367},
    Vector3{x: 0.116187, y: -0.369087, z: -0.229604},
    Vector3{x: 0.113112, y: -0.424606, z: 0.196042},
    Vector3{x: 0.218688, y: 0.336754, z: 0.060131},
    Vector3{x: -0.082517, y: 0.370222, z: -0.201199},
    Vector3{x: -0.342146, y: -0.202745, z: 0.218515},
    Vector3{x: -0.277483, y: -0.384780, z: -0.052960},
    Vector3{x: 0.342146, y: -0.202745, z: 0.218515},
    Vector3{x: -0.123321, y: 0.051288, z: 0.282574},
    Vector3{x: 0.104612, y: 0.076285, z: -0.250504},
    Vector3{x: -0.263362, y: 0.070961, z: -0.103638},
    Vector3{x: 0.072661, y: 0.612795, z: -0.116367},
    Vector3{x: 0.068288, y: 0.700296, z: 0.006932},
    Vector3{x: -0.218688, y: 0.336754, z: 0.060131},
    Vector3{x: -0.068288, y: 0.700296, z: 0.006932},
    Vector3{x: 0.092843, y: 0.323418, z: 0.183578},
    Vector3{x: 0.277483, y: -0.384780, z: -0.052960},
    Vector3{x: -0.092843, y: 0.323418, z: 0.183578},
    Vector3{x: 0.114344, y: -0.430659, z: -0.055794},
    Vector3{x: -0.069793, y: 0.661151, z: 0.124576},
    Vector3{x: 0.123321, y: 0.051288, z: 0.282574},
    Vector3{x: -0.113112, y: -0.424606, z: 0.196042},
    Vector3{x: 0.123369, y: -0.375786, z: 0.369703},
    Vector3{x: 0.069793, y: 0.661151, z: 0.124576},
    Vector3{x: -0.169024, y: 0.594663, z: -0.036361},
    Vector3{x: -0.151487, y: -0.198724, z: 0.403451},
    Vector3{x: 0.082517, y: 0.370222, z: -0.201199},
    Vector3{x: 0.284665, y: -0.386757, z: 0.223581},
    Vector3{x: -0.284665, y: -0.386757, z: 0.223581},
    Vector3{x: -0.077124, y: 0.541621, z: 0.179388},
    Vector3{x: -0.123369, y: -0.375786, z: 0.369703},
    Vector3{x: 0.322028, y: -0.191732, z: -0.086948},
    Vector3{x: -0.114344, y: -0.430659, z: -0.055794},
    Vector3{x: 0.169024, y: 0.594663, z: -0.036361},
    Vector3{x: 0.208363, y: 0.358708, z: -0.090994},
    Vector3{x: 0.077124, y: 0.541621, z: 0.179388},
    Vector3{x: -0.322028, y: -0.191732, z: -0.086948},
    Vector3{x: 0.173487, y: 0.562450, z: 0.090260},
    Vector3{x: 0.263362, y: 0.070961, z: -0.103638},
    Vector3{x: -0.173487, y: 0.562450, z: 0.090260},
    Vector3{x: -0.131368, y: -0.175217, z: -0.277201},
    Vector3{x: -0.208363, y: 0.358708, z: -0.090994},
    Vector3{x: 0.151487, y: -0.198724, z: 0.403451},
    Vector3{x: -0.282070, y: 0.056411, z: 0.120093},
    Vector3{x: 0.131368, y: -0.175217, z: -0.277201},
    Vector3{x: 0.282071, y: 0.056411, z: 0.120093},
    Vector3{x: -0.104612, y: 0.076285, z: -0.250504},
    Vector3{x: -0.508828, y: -0.488737, z: 0.156039},
    Vector3{x: -0.522541, y: -0.410065, z: 0.161508},
    Vector3{x: -0.282585, y: -0.488737, z: -0.115427},
    Vector3{x: -0.282585, y: -0.309773, z: -0.115427},
    Vector3{x: -0.361756, y: -0.488737, z: 0.278610},
    Vector3{x: -0.364664, y: -0.410065, z: 0.293084},
    Vector3{x: -0.135514, y: -0.488737, z: 0.007144},
    Vector3{x: -0.135514, y: -0.309773, z: 0.007144},
    Vector3{x: -0.411821, y: -0.495733, z: 0.006876},
    Vector3{x: -0.549731, y: -0.455582, z: 0.172353},
    Vector3{x: -0.411821, y: -0.288796, z: 0.006876},
    Vector3{x: -0.273911, y: -0.455582, z: -0.158601},
    Vector3{x: -0.184261, y: -0.495733, z: -0.083886},
    Vector3{x: -0.184261, y: -0.288796, z: -0.083886},
    Vector3{x: -0.094610, y: -0.455582, z: -0.009170},
    Vector3{x: -0.232520, y: -0.495733, z: 0.156307},
    Vector3{x: -0.232520, y: -0.288796, z: 0.156307},
    Vector3{x: -0.370430, y: -0.455582, z: 0.321783},
    Vector3{x: -0.460081, y: -0.495733, z: 0.247068},
    Vector3{x: -0.477521, y: -0.396120, z: 0.267995},
    Vector3{x: -0.445638, y: -0.455582, z: -0.021308},
    Vector3{x: -0.132239, y: -0.455582, z: -0.146306},
    Vector3{x: -0.198703, y: -0.455582, z: 0.184490},
    Vector3{x: -0.512102, y: -0.455582, z: 0.309488},
    Vector3{x: -0.322171, y: -0.510414, z: 0.081591},
    Vector3{x: -0.322171, y: -0.244774, z: 0.081591},
    Vector3{x: 0.508827, y: -0.488737, z: 0.156039},
    Vector3{x: 0.522541, y: -0.410065, z: 0.161508},
    Vector3{x: 0.282585, y: -0.488737, z: -0.115427},
    Vector3{x: 0.282585, y: -0.309773, z: -0.115427},
    Vector3{x: 0.361756, y: -0.488737, z: 0.278610},
    Vector3{x: 0.364664, y: -0.410065, z: 0.293084},
    Vector3{x: 0.135514, y: -0.488737, z: 0.007144},
    Vector3{x: 0.135514, y: -0.309773, z: 0.007144},
    Vector3{x: 0.411821, y: -0.495733, z: 0.006876},
    Vector3{x: 0.549731, y: -0.455582, z: 0.172353},
    Vector3{x: 0.411821, y: -0.288796, z: 0.006876},
    Vector3{x: 0.273911, y: -0.455582, z: -0.158601},
    Vector3{x: 0.184261, y: -0.495733, z: -0.083886},
    Vector3{x: 0.184261, y: -0.288796, z: -0.083886},
    Vector3{x: 0.094610, y: -0.455582, z: -0.009170},
    Vector3{x: 0.232520, y: -0.495733, z: 0.156307},
    Vector3{x: 0.232520, y: -0.288796, z: 0.156307},
    Vector3{x: 0.370430, y: -0.455582, z: 0.321783},
    Vector3{x: 0.460080, y: -0.495733, z: 0.247068},
    Vector3{x: 0.477521, y: -0.396120, z: 0.267995},
    Vector3{x: 0.445638, y: -0.455582, z: -0.021308},
    Vector3{x: 0.132239, y: -0.455582, z: -0.146306},
    Vector3{x: 0.198703, y: -0.455582, z: 0.184490},
    Vector3{x: 0.512102, y: -0.455582, z: 0.309488},
    Vector3{x: 0.322171, y: -0.510414, z: 0.081591},
    Vector3{x: 0.322171, y: -0.244774, z: 0.081591},
];

// const SIZE: i32 = 20;
static mut DZ: f32 = 1.0;
static mut ANGLE: f32 = 0.0;


fn main() {                     
    let background = Color::from_hex(BACKGROUND)
                                    .expect("Color no valido");    
    // let foreground = Color::from_hex(FOREGROUND)
    //                                 .expect("Color no valido");

    let (mut rl, thread) = raylib::init()
        .size(SCREEN_WIDTH, SCREEN_HEIGHT)
        .title("Hello, World")
        .build();

    while !rl.window_should_close() {
        // let fs: Vec<Vec<i32>> = vec![
        //     vec![0, 1, 2, 3],
        //     vec![4, 5, 6, 7],
        //     vec![0, 4],
        //     vec![1, 5],
        //     vec![2, 6],
        //     vec![3, 7],
        // ];

        let fs: Vec<Vec<i32>> = vec![
            vec![22, 2, 10],
            vec![21, 1, 24],
            vec![7, 23, 14],
            vec![2, 25, 8],
            vec![0, 21, 24],
            vec![1, 23, 18],
            vec![3, 23, 11],
            vec![2, 19, 10],
            vec![19, 7, 12],
            vec![6, 19, 12],
            vec![22, 0, 9],
            vec![20, 5, 15],
            vec![13, 15, 4],
            vec![7, 20, 12],
            vec![5, 23, 17],
            vec![25, 1, 18],
            vec![22, 4, 16],
            vec![6, 22, 10],
            vec![19, 3, 11],
            vec![24, 9, 0],
            vec![4, 21, 16],
            vec![5, 21, 15],
            vec![25, 3, 8],
            vec![6, 20, 13],
            vec![34, 35, 46],
            vec![35, 36, 46],
            vec![33, 51, 42],
            vec![36, 37, 46],
            vec![34, 37, 28],
            vec![76, 58, 64],
            vec![28, 50, 34],
            vec![77, 53, 62],
            vec![47, 33, 40],
            vec![76, 52, 70],
            vec![32, 47, 40],
            vec![75, 52, 61],
            vec![28, 47, 38],
            vec![42, 43, 48],
            vec![41, 43, 30],
            vec![40, 42, 48],
            vec![31, 51, 45],
            vec![73, 54, 64],
            vec![50, 30, 44],
            vec![32, 50, 38],
            vec![76, 56, 67],
            vec![75, 53, 71],
            vec![60, 61, 52],
            vec![73, 55, 63],
            vec![61, 62, 53],
            vec![75, 57, 69],
            vec![62, 63, 55],
            vec![77, 55, 65],
            vec![60, 63, 72],
            vec![76, 54, 60],
            vec![59, 73, 66],
            vec![77, 59, 68],
            vec![73, 58, 66],
            vec![29, 47, 37],
            vec![68, 69, 57],
            vec![77, 57, 71],
            vec![67, 69, 74],
            vec![68, 66, 74],
            vec![27, 49, 45],
            vec![75, 56, 70],
            vec![67, 66, 58],
            vec![26, 50, 44],
            vec![49, 26, 44],
            vec![29, 51, 39],
            vec![30, 49, 44],
            vec![31, 49, 43],
            vec![51, 27, 45],
            vec![40, 41, 32],
            vec![90, 224, 211],
            vec![93, 224, 132],
            vec![212, 141, 224],
            vec![224, 85, 211],
            vec![102, 225, 151],
            vec![217, 145, 225],
            vec![225, 84, 216],
            vec![151, 216, 91],
            vec![90, 226, 132],
            vec![83, 226, 130],
            vec![129, 131, 226],
            vec![226, 93, 132],
            vec![88, 227, 197],
            vec![172, 200, 227],
            vec![200, 146, 227],
            vec![227, 97, 197],
            vec![183, 159, 108],
            vec![109, 228, 183],
            vec![166, 182, 228],
            vec![228, 107, 159],
            vec![103, 229, 152],
            vec![218, 143, 229],
            vec![143, 217, 229],
            vec![152, 217, 102],
            vec![204, 207, 126],
            vec![105, 230, 204],
            vec![209, 193, 230],
            vec![230, 127, 207],
            vec![141, 134, 85],
            vec![87, 231, 141],
            vec![231, 113, 199],
            vec![231, 105, 134],
            vec![195, 188, 119],
            vec![120, 232, 195],
            vec![175, 198, 232],
            vec![232, 95, 188],
            vec![187, 222, 116],
            vec![112, 233, 187],
            vec![214, 205, 233],
            vec![233, 127, 222],
            vec![115, 234, 194],
            vec![186, 161, 234],
            vec![234, 101, 185],
            vec![194, 185, 114],
            vec![121, 235, 156],
            vec![179, 203, 235],
            vec![235, 125, 206],
            vec![156, 206, 126],
            vec![102, 236, 162],
            vec![151, 128, 236],
            vec![236, 82, 148],
            vec![162, 148, 100],
            vec![96, 237, 142],
            vec![138, 128, 237],
            vec![237, 91, 140],
            vec![142, 140, 99],
            vec![163, 202, 122],
            vec![121, 238, 163],
            vec![201, 177, 238],
            vec![238, 123, 202],
            vec![106, 239, 181],
            vec![213, 140, 239],
            vec![239, 91, 216],
            vec![181, 216, 84],
            vec![154, 160, 112],
            vec![110, 240, 154],
            vec![240, 109, 176],
            vec![160, 176, 111],
            vec![133, 129, 83],
            vec![95, 241, 133],
            vec![241, 97, 135],
            vec![241, 86, 129],
            vec![160, 214, 112],
            vec![160, 221, 242],
            vec![242, 123, 177],
            vec![242, 124, 214],
            vec![86, 243, 131],
            vec![135, 146, 243],
            vec![243, 98, 136],
            vec![131, 136, 93],
            vec![157, 213, 106],
            vec![80, 244, 157],
            vec![219, 178, 244],
            vec![244, 99, 213],
            vec![192, 187, 116],
            vec![120, 245, 192],
            vec![189, 154, 245],
            vec![245, 112, 187],
            vec![89, 246, 220],
            vec![113, 246, 208],
            vec![210, 200, 246],
            vec![220, 200, 104],
            vec![92, 247, 174],
            vec![171, 172, 247],
            vec![247, 88, 170],
            vec![174, 170, 79],
            vec![142, 180, 96],
            vec![99, 248, 142],
            vec![178, 173, 248],
            vec![248, 78, 180],
            vec![181, 196, 106],
            vec![84, 249, 181],
            vec![145, 139, 249],
            vec![249, 122, 196],
            vec![155, 215, 92],
            vec![155, 222, 250],
            vec![222, 193, 250],
            vec![250, 81, 215],
            vec![103, 251, 161],
            vec![152, 162, 251],
            vec![162, 149, 251],
            vec![161, 149, 101],
            vec![170, 198, 79],
            vec![88, 252, 170],
            vec![197, 144, 252],
            vec![252, 95, 198],
            vec![209, 184, 81],
            vec![105, 253, 209],
            vec![199, 208, 253],
            vec![253, 89, 184],
            vec![111, 254, 221],
            vec![167, 219, 254],
            vec![254, 80, 191],
            vec![221, 191, 123],
            vec![92, 255, 171],
            vec![215, 184, 255],
            vec![255, 89, 220],
            vec![171, 220, 104],
            vec![119, 256, 190],
            vec![188, 133, 256],
            vec![256, 83, 150],
            vec![190, 150, 114],
            vec![87, 257, 169],
            vec![212, 136, 257],
            vec![257, 98, 210],
            vec![169, 210, 113],
            vec![147, 138, 96],
            vec![108, 258, 147],
            vec![164, 148, 258],
            vec![258, 82, 138],
            vec![108, 259, 164],
            vec![159, 165, 259],
            vec![259, 101, 149],
            vec![259, 100, 164],
            vec![111, 260, 167],
            vec![176, 168, 260],
            vec![260, 78, 173],
            vec![167, 173, 94],
            vec![126, 261, 204],
            vec![206, 137, 261],
            vec![261, 85, 134],
            vec![204, 134, 105],
            vec![96, 262, 147],
            vec![78, 262, 180],
            vec![262, 109, 183],
            vec![262, 108, 147],
            vec![107, 263, 165],
            vec![158, 190, 263],
            vec![263, 114, 185],
            vec![165, 185, 101],
            vec![106, 264, 157],
            vec![122, 264, 196],
            vec![264, 123, 191],
            vec![264, 80, 157],
            vec![90, 265, 153],
            vec![211, 137, 265],
            vec![265, 125, 223],
            vec![153, 223, 115],
            vec![122, 266, 163],
            vec![117, 266, 139],
            vec![266, 118, 179],
            vec![163, 179, 121],
            vec![174, 155, 92],
            vec![79, 267, 174],
            vec![175, 192, 267],
            vec![155, 192, 116],
            vec![156, 201, 121],
            vec![126, 268, 156],
            vec![207, 205, 268],
            vec![268, 124, 201],
            vec![90, 269, 130],
            vec![153, 194, 269],
            vec![269, 114, 150],
            vec![130, 150, 83],
            vec![182, 158, 107],
            vec![110, 270, 182],
            vec![189, 195, 270],
            vec![270, 119, 158],
            vec![115, 271, 186],
            vec![223, 203, 271],
            vec![271, 118, 218],
            vec![186, 218, 103],
            vec![272, 292, 280],
            vec![273, 292, 281],
            vec![292, 275, 283],
            vec![292, 274, 280],
            vec![283, 284, 274],
            vec![283, 285, 293],
            vec![285, 286, 293],
            vec![284, 286, 278],
            vec![278, 294, 287],
            vec![279, 294, 286],
            vec![294, 277, 289],
            vec![294, 276, 287],
            vec![289, 290, 276],
            vec![289, 291, 295],
            vec![291, 281, 295],
            vec![290, 281, 272],
            vec![274, 296, 280],
            vec![278, 296, 284],
            vec![296, 276, 290],
            vec![296, 272, 280],
            vec![279, 297, 288],
            vec![275, 297, 285],
            vec![297, 273, 291],
            vec![297, 277, 288],
            vec![298, 318, 307],
            vec![318, 299, 307],
            vec![318, 301, 308],
            vec![300, 318, 306],
            vec![310, 309, 300],
            vec![309, 311, 301],
            vec![312, 311, 319],
            vec![310, 312, 319],
            vec![304, 320, 312],
            vec![320, 305, 312],
            vec![320, 303, 314],
            vec![302, 320, 313],
            vec![316, 315, 302],
            vec![315, 317, 303],
            vec![307, 317, 321],
            vec![316, 307, 321],
            vec![300, 322, 310],
            vec![322, 304, 310],
            vec![322, 302, 313],
            vec![298, 322, 306],
            vec![305, 323, 311],
            vec![323, 301, 311],
            vec![323, 299, 308],
            vec![303, 323, 314],
            vec![22, 9, 2],
            vec![21, 17, 1],
            vec![7, 11, 23],
            vec![2, 9, 25],
            vec![0, 16, 21],
            vec![1, 17, 23],
            vec![3, 18, 23],
            vec![2, 8, 19],
            vec![19, 11, 7],
            vec![6, 10, 19],
            vec![22, 16, 0],
            vec![20, 14, 5],
            vec![13, 20, 15],
            vec![7, 14, 20],
            vec![5, 14, 23],
            vec![25, 24, 1],
            vec![22, 13, 4],
            vec![6, 13, 22],
            vec![19, 8, 3],
            vec![24, 25, 9],
            vec![4, 15, 21],
            vec![5, 17, 21],
            vec![25, 18, 3],
            vec![6, 12, 20],
            vec![34, 26, 35],
            vec![35, 27, 36],
            vec![33, 39, 51],
            vec![36, 29, 37],
            vec![34, 46, 37],
            vec![76, 67, 58],
            vec![28, 38, 50],
            vec![77, 71, 53],
            vec![47, 39, 33],
            vec![76, 60, 52],
            vec![32, 38, 47],
            vec![75, 70, 52],
            vec![28, 37, 47],
            vec![42, 31, 43],
            vec![41, 48, 43],
            vec![40, 33, 42],
            vec![31, 42, 51],
            vec![73, 63, 54],
            vec![50, 41, 30],
            vec![32, 41, 50],
            vec![76, 70, 56],
            vec![75, 61, 53],
            vec![60, 72, 61],
            vec![73, 65, 55],
            vec![61, 72, 62],
            vec![75, 71, 57],
            vec![62, 72, 63],
            vec![77, 62, 55],
            vec![60, 54, 63],
            vec![76, 64, 54],
            vec![59, 65, 73],
            vec![77, 65, 59],
            vec![73, 64, 58],
            vec![29, 39, 47],
            vec![68, 74, 69],
            vec![77, 68, 57],
            vec![67, 56, 69],
            vec![68, 59, 66],
            vec![27, 35, 49],
            vec![75, 69, 56],
            vec![67, 74, 66],
            vec![26, 34, 50],
            vec![49, 35, 26],
            vec![29, 36, 51],
            vec![30, 43, 49],
            vec![31, 45, 49],
            vec![51, 36, 27],
            vec![40, 48, 41],
            vec![90, 132, 224],
            vec![93, 212, 224],
            vec![212, 87, 141],
            vec![224, 141, 85],
            vec![102, 217, 225],
            vec![217, 117, 145],
            vec![225, 145, 84],
            vec![151, 225, 216],
            vec![90, 130, 226],
            vec![83, 129, 226],
            vec![129, 86, 131],
            vec![226, 131, 93],
            vec![88, 172, 227],
            vec![172, 104, 200],
            vec![200, 98, 146],
            vec![227, 146, 97],
            vec![183, 228, 159],
            vec![109, 166, 228],
            vec![166, 110, 182],
            vec![228, 182, 107],
            vec![103, 218, 229],
            vec![218, 118, 143],
            vec![143, 117, 217],
            vec![152, 229, 217],
            vec![204, 230, 207],
            vec![105, 209, 230],
            vec![209, 81, 193],
            vec![230, 193, 127],
            vec![141, 231, 134],
            vec![87, 169, 231],
            vec![231, 169, 113],
            vec![231, 199, 105],
            vec![195, 232, 188],
            vec![120, 175, 232],
            vec![175, 79, 198],
            vec![232, 198, 95],
            vec![187, 233, 222],
            vec![112, 214, 233],
            vec![214, 124, 205],
            vec![233, 205, 127],
            vec![115, 186, 234],
            vec![186, 103, 161],
            vec![234, 161, 101],
            vec![194, 234, 185],
            vec![121, 179, 235],
            vec![179, 118, 203],
            vec![235, 203, 125],
            vec![156, 235, 206],
            vec![102, 151, 236],
            vec![151, 91, 128],
            vec![236, 128, 82],
            vec![162, 236, 148],
            vec![96, 138, 237],
            vec![138, 82, 128],
            vec![237, 128, 91],
            vec![142, 237, 140],
            vec![163, 238, 202],
            vec![121, 201, 238],
            vec![201, 124, 177],
            vec![238, 177, 123],
            vec![106, 213, 239],
            vec![213, 99, 140],
            vec![239, 140, 91],
            vec![181, 239, 216],
            vec![154, 240, 160],
            vec![110, 166, 240],
            vec![240, 166, 109],
            vec![160, 240, 176],
            vec![133, 241, 129],
            vec![95, 144, 241],
            vec![241, 144, 97],
            vec![241, 135, 86],
            vec![160, 242, 214],
            vec![160, 111, 221],
            vec![242, 221, 123],
            vec![242, 177, 124],
            vec![86, 135, 243],
            vec![135, 97, 146],
            vec![243, 146, 98],
            vec![131, 243, 136],
            vec![157, 244, 213],
            vec![80, 219, 244],
            vec![219, 94, 178],
            vec![244, 178, 99],
            vec![192, 245, 187],
            vec![120, 189, 245],
            vec![189, 110, 154],
            vec![245, 154, 112],
            vec![89, 208, 246],
            vec![113, 210, 246],
            vec![210, 98, 200],
            vec![220, 246, 200],
            vec![92, 171, 247],
            vec![171, 104, 172],
            vec![247, 172, 88],
            vec![174, 247, 170],
            vec![142, 248, 180],
            vec![99, 178, 248],
            vec![178, 94, 173],
            vec![248, 173, 78],
            vec![181, 249, 196],
            vec![84, 145, 249],
            vec![145, 117, 139],
            vec![249, 139, 122],
            vec![155, 250, 215],
            vec![155, 116, 222],
            vec![222, 127, 193],
            vec![250, 193, 81],
            vec![103, 152, 251],
            vec![152, 102, 162],
            vec![162, 100, 149],
            vec![161, 251, 149],
            vec![170, 252, 198],
            vec![88, 197, 252],
            vec![197, 97, 144],
            vec![252, 144, 95],
            vec![209, 253, 184],
            vec![105, 199, 253],
            vec![199, 113, 208],
            vec![253, 208, 89],
            vec![111, 167, 254],
            vec![167, 94, 219],
            vec![254, 219, 80],
            vec![221, 254, 191],
            vec![92, 215, 255],
            vec![215, 81, 184],
            vec![255, 184, 89],
            vec![171, 255, 220],
            vec![119, 188, 256],
            vec![188, 95, 133],
            vec![256, 133, 83],
            vec![190, 256, 150],
            vec![87, 212, 257],
            vec![212, 93, 136],
            vec![257, 136, 98],
            vec![169, 257, 210],
            vec![147, 258, 138],
            vec![108, 164, 258],
            vec![164, 100, 148],
            vec![258, 148, 82],
            vec![108, 159, 259],
            vec![159, 107, 165],
            vec![259, 165, 101],
            vec![259, 149, 100],
            vec![111, 176, 260],
            vec![176, 109, 168],
            vec![260, 168, 78],
            vec![167, 260, 173],
            vec![126, 206, 261],
            vec![206, 125, 137],
            vec![261, 137, 85],
            vec![204, 261, 134],
            vec![96, 180, 262],
            vec![78, 168, 262],
            vec![262, 168, 109],
            vec![262, 183, 108],
            vec![107, 158, 263],
            vec![158, 119, 190],
            vec![263, 190, 114],
            vec![165, 263, 185],
            vec![106, 196, 264],
            vec![122, 202, 264],
            vec![264, 202, 123],
            vec![264, 191, 80],
            vec![90, 211, 265],
            vec![211, 85, 137],
            vec![265, 137, 125],
            vec![153, 265, 223],
            vec![122, 139, 266],
            vec![117, 143, 266],
            vec![266, 143, 118],
            vec![163, 266, 179],
            vec![174, 267, 155],
            vec![79, 175, 267],
            vec![175, 120, 192],
            vec![155, 267, 192],
            vec![156, 268, 201],
            vec![126, 207, 268],
            vec![207, 127, 205],
            vec![268, 205, 124],
            vec![90, 153, 269],
            vec![153, 115, 194],
            vec![269, 194, 114],
            vec![130, 269, 150],
            vec![182, 270, 158],
            vec![110, 189, 270],
            vec![189, 120, 195],
            vec![270, 195, 119],
            vec![115, 223, 271],
            vec![223, 125, 203],
            vec![271, 203, 118],
            vec![186, 271, 218],
            vec![272, 281, 292],
            vec![273, 282, 292],
            vec![292, 282, 275],
            vec![292, 283, 274],
            vec![283, 293, 284],
            vec![283, 275, 285],
            vec![285, 279, 286],
            vec![284, 293, 286],
            vec![278, 286, 294],
            vec![279, 288, 294],
            vec![294, 288, 277],
            vec![294, 289, 276],
            vec![289, 295, 290],
            vec![289, 277, 291],
            vec![291, 273, 281],
            vec![290, 295, 281],
            vec![274, 284, 296],
            vec![278, 287, 296],
            vec![296, 287, 276],
            vec![296, 290, 272],
            vec![279, 285, 297],
            vec![275, 282, 297],
            vec![297, 282, 273],
            vec![297, 291, 277],
            vec![298, 306, 318],
            vec![318, 308, 299],
            vec![318, 309, 301],
            vec![300, 309, 318],
            vec![310, 319, 309],
            vec![309, 319, 311],
            vec![312, 305, 311],
            vec![310, 304, 312],
            vec![304, 313, 320],
            vec![320, 314, 305],
            vec![320, 315, 303],
            vec![302, 315, 320],
            vec![316, 321, 315],
            vec![315, 321, 317],
            vec![307, 299, 317],
            vec![316, 298, 307],
            vec![300, 306, 322],
            vec![322, 313, 304],
            vec![322, 316, 302],
            vec![298, 316, 322],
            vec![305, 314, 323],
            vec![323, 308, 301],
            vec![323, 317, 299],
            vec![303, 317, 323],
        ];

        let mut d = rl.begin_drawing(&thread);

        d.clear_background(background);

        let frame = || {
            unsafe {
                // DZ += 1.25 * raylib::ffi::GetFrameTime(); // 1*dt -> dt=1/FPS

                ANGLE += (consts::PI)*(raylib::ffi::GetFrameTime());

                // for v3 in VS3 {
                //     let mapped = screen( projection( translate( rotate_xz(v3, ANGLE), DZ) ) );
                    
                //     d.draw_line_ex(Vector2 {x: 0.0, y: 0.0}, Vector2 {x: 200.0, y: 200.0}, 3.0, raylib::ffi::GetColor(0xFF50FF)); //color complentario...
                //     d.draw_rectangle(mapped.x - (SIZE / 2), mapped.y - (SIZE / 2), SIZE, SIZE, foreground);
                // }

                for f in fs {
                    for i in 0..f.len(){
                        let idx_a = f[i];
                        let a = VS3[idx_a as usize];

                        let idx_b = f[ (i+1)%f.len() ];
                        let b = VS3[idx_b as usize];

                        d.draw_line_ex(
                            screen( projection( translate( rotate_xz(a, ANGLE), DZ) ) ), 
                            screen( projection( translate( rotate_xz(b, ANGLE), DZ) ) ),  
                            3.0,
                            raylib::ffi::GetColor(0xFF50FF)
                        ); //color complentario...
                    }
                }

                raylib::ffi::WaitTime((0.5*raylib::ffi::GetFrameTime()) as f64);
            };

        };
        
        frame();
    }
}


fn screen(p: Vector2) -> Vector2
{
    let size_w: f32 = SCREEN_WIDTH as f32;
    let size_h: f32 = SCREEN_HEIGHT as f32;

    let t_x = ((p.x + 1.0)/2.0)*size_w;
    let t_y = (1.0-((p.y + 1.0)/2.0))*size_h;

    return Vector2{ x: t_x, y: t_y };
}

fn projection(v:Vector3) -> Vector2
{
    return Vector2 {
        x: v.x/v.z,
        y: v.y/v.z,
    };
}

fn translate(v: Vector3, dz: f32) -> Vector3 {

    return Vector3{
        x: v.x,
        y: v.y,
        z: v.z+dz,
    };
}

fn rotate_xz(v: Vector3, angle: f32) -> Vector3 {

    let c_theta:f32 = angle.cos();
    let s_theta:f32 = angle.sin();

    return Vector3{
        x: (v.x*c_theta) - (v.z*s_theta),
        y: v.y,
        z: (v.x*s_theta) + (v.z*c_theta),
    }
}